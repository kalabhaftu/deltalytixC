[1mdiff --git a/app/dashboard/components/tables/enhanced-edit-trade.tsx b/app/dashboard/components/tables/enhanced-edit-trade.tsx[m
[1mindex 56cb84b..5ec3c69 100644[m
[1m--- a/app/dashboard/components/tables/enhanced-edit-trade.tsx[m
[1m+++ b/app/dashboard/components/tables/enhanced-edit-trade.tsx[m
[36m@@ -901,11 +901,11 @@[m [mexport default function EnhancedEditTrade({[m
                   </div>[m
                 </div>[m
 [m
[31m-                {/* Card Preview - Full width */}[m
[32m+[m[32m                {/* Card Preview - Smaller size like backtest */}[m
                 <div className="space-y-2">[m
                   <Label className="text-sm font-medium">Card Preview Image</Label>[m
[31m-                  <div className="relative">[m
[31m-                    <div className="border-2 border-dashed rounded-lg p-4 text-center aspect-video flex items-center justify-center min-h-[200px] border-border bg-muted/30">[m
[32m+[m[32m                  <div className="w-full sm:w-64">[m
[32m+[m[32m                    <div className="border-2 border-dashed rounded-lg p-3 text-center aspect-video flex items-center justify-center min-h-[120px] border-border bg-muted/30">[m
                       <input[m
                         type="file"[m
                         accept="image/*"[m
[36m@@ -952,13 +952,10 @@[m [mexport default function EnhancedEditTrade({[m
                       ) : ([m
                         <label[m
                           htmlFor="card-preview"[m
[31m-                          className="cursor-pointer flex flex-col items-center text-foreground hover:text-foreground/80 transition-colors"[m
[32m+[m[32m                          className="cursor-pointer flex flex-col items-center text-muted-foreground hover:text-foreground transition-colors"[m
                         >[m
[31m-                          <Camera className="w-8 h-8 mb-2" />[m
[31m-                          <span className="text-sm font-medium">Upload Card Preview</span>[m
[31m-                          <span className="text-xs text-muted-foreground mt-1">[m
[31m-                            Optimized for journal cards[m
[31m-                          </span>[m
[32m+[m[32m                          <Camera className="w-6 h-6 mb-1" />[m
[32m+[m[32m                          <span className="text-xs">Upload</span>[m
                         </label>[m
                       )}[m
                     </div>[m
[1mdiff --git a/app/dashboard/config/widget-registry-lazy.tsx b/app/dashboard/config/widget-registry-lazy.tsx[m
[1mindex 7ee3cb7..7d63c40 100644[m
[1m--- a/app/dashboard/config/widget-registry-lazy.tsx[m
[1m+++ b/app/dashboard/config/widget-registry-lazy.tsx[m
[36m@@ -29,32 +29,150 @@[m [mconst PnLByInstrument = lazy(() => import('../components/charts/pnl-by-instrumen[m
 const PnLByStrategy = lazy(() => import('../components/charts/pnl-by-strategy'))[m
 const WinRateByStrategy = lazy(() => import('../components/charts/win-rate-by-strategy'))[m
 [m
[31m-// Widget loading skeleton[m
[31m-function WidgetSkeleton({ size }: { size: WidgetSize }) {[m
[31m-  const height = size === 'small' ? 'h-32' : size === 'medium' ? 'h-48' : size === 'large' ? 'h-64' : 'h-96'[m
[31m-  [m
[32m+[m[32m// Detailed widget loading skeletons - EXACTLY matching Step 1 design with fixed dimensions[m
[32m+[m[32mfunction KpiWidgetSkeleton() {[m
   return ([m
[31m-    <Card className={cn('w-full', height)}>[m
[31m-      <CardHeader className="pb-2">[m
[31m-        <Skeleton className="h-4 w-32" />[m
[31m-      </CardHeader>[m
[31m-      <CardContent className="p-4">[m
[31m-        <Skeleton className="h-full w-full" />[m
[31m-      </CardContent>[m
[31m-    </Card>[m
[32m+[m[32m    <div className="w-full h-[120px]">[m
[32m+[m[32m      <Card className="h-full p-4">[m
[32m+[m[32m        <div className="flex items-start justify-between h-full">[m
[32m+[m[32m          <div className="space-y-2 flex-1">[m
[32m+[m[32m            <div className="h-3 w-20 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m            <div className="h-6 w-24 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div className="h-12 w-12 rounded-full bg-muted-foreground/20 animate-pulse" />[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Card>[m
[32m+[m[32m    </div>[m
   )[m
 }[m
 [m
[32m+[m[32mfunction ChartWidgetSkeleton() {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className="w-full h-[360px]">[m
[32m+[m[32m      <Card className="h-full p-6">[m
[32m+[m[32m        <div className="space-y-4 h-full">[m
[32m+[m[32m          <div className="h-5 w-28 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m          <div className="flex-1 bg-muted-foreground/10 rounded-lg animate-pulse flex items-end p-4">[m
[32m+[m[32m            <div className="flex items-end gap-1 w-full h-32">[m
[32m+[m[32m              {Array(8).fill(0).map((_, j) => {[m
[32m+[m[32m                const height = Math.random() * 80 + 20[m
[32m+[m[32m                return ([m
[32m+[m[32m                  <div[m[41m [m
[32m+[m[32m                    key={j}[m[41m [m
[32m+[m[32m                    className="flex-1 bg-muted-foreground/20 rounded-t animate-pulse"[m
[32m+[m[32m                    style={{[m[41m [m
[32m+[m[32m                      height: `${height}%`,[m
[32m+[m[32m                      animationDelay: `${j * 50}ms`[m
[32m+[m[32m                    }}[m
[32m+[m[32m                  />[m
[32m+[m[32m                )[m
[32m+[m[32m              })}[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Card>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  )[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction TableWidgetSkeleton() {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className="w-full h-[300px]">[m
[32m+[m[32m      <Card className="h-full p-6">[m
[32m+[m[32m        <div className="space-y-4">[m
[32m+[m[32m          <div className="h-5 w-32 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m          <div className="space-y-3">[m
[32m+[m[32m            {Array(5).fill(0).map((_, i) => ([m
[32m+[m[32m              <div key={i} className="flex justify-between items-center py-2 border-b border-muted/30">[m
[32m+[m[32m                <div className="flex items-center space-x-3">[m
[32m+[m[32m                  <div className="h-4 w-12 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m                  <div className="h-4 w-16 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m                </div>[m
[32m+[m[32m                <div className="h-4 w-20 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m              </div>[m
[32m+[m[32m            ))}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Card>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  )[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction CalendarWidgetSkeleton() {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className="w-full h-[300px]">[m
[32m+[m[32m      <Card className="h-full p-6">[m
[32m+[m[32m        <div className="space-y-4 h-full">[m
[32m+[m[32m          <div className="flex items-center justify-between">[m
[32m+[m[32m            <div className="h-5 w-24 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m            <div className="flex gap-2">[m
[32m+[m[32m              <div className="h-6 w-6 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m              <div className="h-6 w-6 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div className="flex-1 flex flex-col space-y-2">[m
[32m+[m[32m            {/* Weekday headers */}[m
[32m+[m[32m            <div className="grid grid-cols-7 gap-1">[m
[32m+[m[32m              {Array(7).fill(0).map((_, i) => ([m
[32m+[m[32m                <div key={i} className="h-4 bg-muted-foreground/20 rounded animate-pulse text-center" />[m
[32m+[m[32m              ))}[m
[32m+[m[32m            </div>[m
[32m+[m[32m            {/* Calendar days */}[m
[32m+[m[32m            <div className="flex-1 flex flex-col justify-start space-y-1 max-h-[180px] overflow-hidden">[m
[32m+[m[32m              {Array(4).fill(0).map((_, weekIndex) => ([m
[32m+[m[32m                <div key={weekIndex} className="grid grid-cols-7 gap-1 flex-1">[m
[32m+[m[32m                  {Array(7).fill(0).map((_, dayIndex) => ([m
[32m+[m[32m                    <div[m[41m [m
[32m+[m[32m                      key={dayIndex}[m[41m [m
[32m+[m[32m                      className="w-full h-full min-h-[24px] max-h-[32px] bg-muted-foreground/10 rounded animate-pulse"[m[41m [m
[32m+[m[32m                      style={{ animationDelay: `${(weekIndex * 7 + dayIndex) * 15}ms` }}[m[41m [m
[32m+[m[32m                    />[m
[32m+[m[32m                  ))}[m
[32m+[m[32m                </div>[m
[32m+[m[32m              ))}[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Card>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  )[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction WidgetSkeleton({ size, type }: { size: WidgetSize, type?: WidgetType }) {[m
[32m+[m[32m  // Use specific skeletons based on widget type - EXACTLY matching Step 1 with fixed dimensions[m
[32m+[m[32m  if (type?.includes('calendar')) {[m
[32m+[m[32m    return <CalendarWidgetSkeleton />[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  if (type?.includes('recentTrades') || type?.includes('table')) {[m
[32m+[m[32m    return <TableWidgetSkeleton />[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  if (type?.includes('chart') || type?.includes('Chart') || type?.includes('PnL') || type?.includes('Performance')) {[m
[32m+[m[32m    return <ChartWidgetSkeleton />[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  // Default to KPI skeleton for small widgets[m
[32m+[m[32m  if (size === 'small') {[m
[32m+[m[32m    return <KpiWidgetSkeleton />[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  // Default to chart skeleton for larger widgets[m
[32m+[m[32m  return <ChartWidgetSkeleton />[m
[32m+[m[32m}[m
[32m+[m
 // Lazy component wrapper with suspense[m
 function LazyWidget({ [m
   Component, [m
[31m-  size [m
[32m+[m[32m  size,[m
[32m+[m[32m  type[m
 }: { [m
   Component: React.LazyExoticComponent<React.ComponentType<{ size?: WidgetSize }>>[m
[31m-  size: WidgetSize [m
[32m+[m[32m  size: WidgetSize[m
[32m+[m[32m  type: WidgetType[m
 }) {[m
   return ([m
[31m-    <Suspense fallback={<WidgetSkeleton size={size} />}>[m
[32m+[m[32m    <Suspense fallback={<WidgetSkeleton size={size} type={type} />}>[m
       <WidgetErrorBoundary widgetType="Widget">[m
         <Component size={size} />[m
       </WidgetErrorBoundary>[m
[36m@@ -116,14 +234,74 @@[m [mfunction CreateCalendarPreview() {[m
   )[m
 }[m
 [m
[31m-function CreateGenericPreview(title: string) {[m
[32m+[m[32mfunction CreateKpiPreview(title: string) {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Card className="w-full h-full">[m
[32m+[m[32m      <CardHeader className="pb-2">[m
[32m+[m[32m        <CardTitle className="text-sm">{title}</CardTitle>[m
[32m+[m[32m      </CardHeader>[m
[32m+[m[32m      <CardContent className="p-4">[m
[32m+[m[32m        <div className="flex items-start justify-between h-full">[m
[32m+[m[32m          <div className="space-y-2 flex-1">[m
[32m+[m[32m            <div className="h-3 w-20 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m            <div className="h-6 w-24 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m          </div>[m
[32m+[m[32m          <div className="h-12 w-12 rounded-full bg-muted-foreground/20 animate-pulse" />[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </CardContent>[m
[32m+[m[32m    </Card>[m
[32m+[m[32m  )[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction CreateChartPreview(title: string) {[m
   return ([m
     <Card className="w-full h-full">[m
       <CardHeader className="pb-2">[m
         <CardTitle className="text-sm">{title}</CardTitle>[m
       </CardHeader>[m
[31m-      <CardContent className="p-4 flex items-center justify-center">[m
[31m-        <Skeleton className="h-20 w-full" />[m
[32m+[m[32m      <CardContent className="p-4">[m
[32m+[m[32m        <div className="space-y-4 h-full">[m
[32m+[m[32m          <div className="flex-1 bg-muted-foreground/10 rounded-lg animate-pulse flex items-end p-4">[m
[32m+[m[32m            <div className="flex items-end gap-1 w-full h-20">[m
[32m+[m[32m              {Array(6).fill(0).map((_, j) => {[m
[32m+[m[32m                const height = Math.random() * 60 + 20[m
[32m+[m[32m                return ([m
[32m+[m[32m                  <div[m[41m [m
[32m+[m[32m                    key={j}[m[41m [m
[32m+[m[32m                    className="flex-1 bg-muted-foreground/20 rounded-t animate-pulse"[m
[32m+[m[32m                    style={{[m[41m [m
[32m+[m[32m                      height: `${height}%`,[m
[32m+[m[32m                      animationDelay: `${j * 50}ms`[m
[32m+[m[32m                    }}[m
[32m+[m[32m                  />[m
[32m+[m[32m                )[m
[32m+[m[32m              })}[m
[32m+[m[32m            </div>[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </CardContent>[m
[32m+[m[32m    </Card>[m
[32m+[m[32m  )[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction CreateTablePreview(title: string) {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Card className="w-full h-full">[m
[32m+[m[32m      <CardHeader className="pb-2">[m
[32m+[m[32m        <CardTitle className="text-sm">{title}</CardTitle>[m
[32m+[m[32m      </CardHeader>[m
[32m+[m[32m      <CardContent className="p-4">[m
[32m+[m[32m        <div className="space-y-3">[m
[32m+[m[32m          {Array(3).fill(0).map((_, i) => ([m
[32m+[m[32m            <div key={i} className="flex justify-between items-center py-2 border-b border-muted/30">[m
[32m+[m[32m              <div className="flex items-center space-x-3">[m
[32m+[m[32m                <div className="h-4 w-12 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m                <div className="h-4 w-16 bg-muted-foreground/20 rounded animate-pulse" />[m
[32m+[m[32m              </div>[m
[32m+[m[32m              <div className="h-4 w-20 bg-muted-foreground/30 rounded animate-pulse" />[m
[32m+[m[32m            </div>[m
[32m+[m[32m          ))}[m
[32m+[m[32m        </div>[m
       </CardContent>[m
     </Card>[m
   )[m
[36m@@ -137,7 +315,7 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Full calendar with daily P&L, trade counts, and performance analytics',[m
     previewHeight: 500,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={CalendarPnl} size={size} />,[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={CalendarPnl} size={size} type="calendarAdvanced" />,[m
     getPreview: () => <CreateCalendarPreview />[m
   },[m
   calendarMini: {[m
[36m@@ -147,7 +325,7 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Compact calendar view with daily P&L highlights',[m
     previewHeight: 350,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={MiniCalendarWrapper} size={size} />,[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={MiniCalendarWrapper} size={size} type="calendarMini" />,[m
     getPreview: () => <CreateCalendarPreview />[m
   },[m
   recentTrades: {[m
[36m@@ -157,8 +335,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'tables',[m
     description: 'Display recent trading activity',[m
     previewHeight: 400,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={RecentTradesWidget} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Recent Trades')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={RecentTradesWidget} size={size} type="recentTrades" />,[m
[32m+[m[32m    getPreview: () => CreateTablePreview('Recent Trades')[m
   },[m
   accountBalancePnl: {[m
     type: 'accountBalancePnl',[m
[36m@@ -167,8 +345,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'statistics',[m
     description: 'Current account balance and P&L',[m
     kpiRowOnly: true,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={AccountBalancePnl} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Account Balance & P&L')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={AccountBalancePnl} size={size} type="accountBalancePnl" />,[m
[32m+[m[32m    getPreview: () => CreateKpiPreview('Account Balance & P&L')[m
   },[m
   tradeWinRate: {[m
     type: 'tradeWinRate',[m
[36m@@ -177,8 +355,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'statistics',[m
     description: 'Win rate by trade count',[m
     kpiRowOnly: true,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={TradeWinRate} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Trade Win Rate')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={TradeWinRate} size={size} type="tradeWinRate" />,[m
[32m+[m[32m    getPreview: () => CreateKpiPreview('Trade Win Rate')[m
   },[m
   dayWinRate: {[m
     type: 'dayWinRate',[m
[36m@@ -187,8 +365,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'statistics',[m
     description: 'Win rate by trading days',[m
     kpiRowOnly: true,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={DayWinRate} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Day Win Rate')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={DayWinRate} size={size} type="dayWinRate" />,[m
[32m+[m[32m    getPreview: () => CreateKpiPreview('Day Win Rate')[m
   },[m
   profitFactor: {[m
     type: 'profitFactor',[m
[36m@@ -197,8 +375,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'statistics',[m
     description: 'Ratio of gross profit to gross loss',[m
     kpiRowOnly: true,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={ProfitFactor} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Profit Factor')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={ProfitFactor} size={size} type="profitFactor" />,[m
[32m+[m[32m    getPreview: () => CreateKpiPreview('Profit Factor')[m
   },[m
   avgWinLoss: {[m
     type: 'avgWinLoss',[m
[36m@@ -207,8 +385,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'statistics',[m
     description: 'Average win vs average loss',[m
     kpiRowOnly: true,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={AvgWinLoss} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Avg Win/Loss')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={AvgWinLoss} size={size} type="avgWinLoss" />,[m
[32m+[m[32m    getPreview: () => CreateKpiPreview('Avg Win/Loss')[m
   },[m
   currentStreak: {[m
     type: 'currentStreak',[m
[36m@@ -217,8 +395,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'statistics',[m
     description: 'Current winning or losing streak',[m
     kpiRowOnly: true,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={CurrentStreak} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Current Streak')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={CurrentStreak} size={size} type="currentStreak" />,[m
[32m+[m[32m    getPreview: () => CreateKpiPreview('Current Streak')[m
   },[m
   netDailyPnL: {[m
     type: 'netDailyPnL',[m
[36m@@ -227,8 +405,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Daily net P&L bar chart',[m
     previewHeight: 300,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={NetDailyPnL} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Net Daily P&L')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={NetDailyPnL} size={size} type="netDailyPnL" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Net Daily P&L')[m
   },[m
   dailyCumulativePnL: {[m
     type: 'dailyCumulativePnL',[m
[36m@@ -237,8 +415,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Cumulative P&L line chart',[m
     previewHeight: 300,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={DailyCumulativePnL} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Cumulative P&L')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={DailyCumulativePnL} size={size} type="dailyCumulativePnL" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Cumulative P&L')[m
   },[m
   accountBalanceChart: {[m
     type: 'accountBalanceChart',[m
[36m@@ -247,8 +425,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Account balance over time',[m
     previewHeight: 300,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={AccountBalanceChart} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Balance Chart')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={AccountBalanceChart} size={size} type="accountBalanceChart" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Balance Chart')[m
   },[m
   weekdayPnL: {[m
     type: 'weekdayPnL',[m
[36m@@ -257,8 +435,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'P&L breakdown by day of week',[m
     previewHeight: 250,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={WeekdayPnL} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Weekday P&L')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={WeekdayPnL} size={size} type="weekdayPnL" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Weekday P&L')[m
   },[m
   tradeDurationPerformance: {[m
     type: 'tradeDurationPerformance',[m
[36m@@ -267,8 +445,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Performance by trade duration',[m
     previewHeight: 250,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={TradeDurationPerformance} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Trade Duration')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={TradeDurationPerformance} size={size} type="tradeDurationPerformance" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Trade Duration')[m
   },[m
   performanceScore: {[m
     type: 'performanceScore',[m
[36m@@ -277,8 +455,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Overall trading performance score',[m
     previewHeight: 250,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={PerformanceScore} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Performance Score')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={PerformanceScore} size={size} type="performanceScore" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Performance Score')[m
   },[m
   pnlByInstrument: {[m
     type: 'pnlByInstrument',[m
[36m@@ -287,8 +465,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'P&L breakdown by trading instrument',[m
     previewHeight: 250,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={PnLByInstrument} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('P&L by Instrument')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={PnLByInstrument} size={size} type="pnlByInstrument" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('P&L by Instrument')[m
   },[m
   pnlByStrategy: {[m
     type: 'pnlByStrategy',[m
[36m@@ -297,8 +475,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'P&L breakdown by trading strategy',[m
     previewHeight: 250,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={PnLByStrategy} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('P&L by Strategy')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={PnLByStrategy} size={size} type="pnlByStrategy" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('P&L by Strategy')[m
   },[m
   winRateByStrategy: {[m
     type: 'winRateByStrategy',[m
[36m@@ -307,8 +485,8 @@[m [mexport const WIDGET_REGISTRY_LAZY: Record<WidgetType, WidgetConfig> = {[m
     category: 'charts',[m
     description: 'Win rate breakdown by strategy',[m
     previewHeight: 250,[m
[31m-    getComponent: ({ size }) => <LazyWidget Component={WinRateByStrategy} size={size} />,[m
[31m-    getPreview: () => CreateGenericPreview('Win Rate by Strategy')[m
[32m+[m[32m    getComponent: ({ size }) => <LazyWidget Component={WinRateByStrategy} size={size} type="winRateByStrategy" />,[m
[32m+[m[32m    getPreview: () => CreateChartPreview('Win Rate by Strategy')[m
   }[m
 }[m
 [m
[1mdiff --git a/app/dashboard/journal/components/journal-client.tsx b/app/dashboard/journal/components/journal-client.tsx[m
[1mindex afb42de..5fe3a43 100644[m
[1m--- a/app/dashboard/journal/components/journal-client.tsx[m
[1m+++ b/app/dashboard/journal/components/journal-client.tsx[m
[36m@@ -15,16 +15,23 @@[m [mimport {[m
 import { toast } from 'sonner'[m
 import { useRouter } from 'next/navigation'[m
 import { useData } from '@/context/data-provider'[m
[32m+[m[32mimport { useModalStateStore } from '@/store/modal-state-store'[m
[32m+[m[32mimport EnhancedEditTrade from '@/app/dashboard/components/tables/enhanced-edit-trade'[m
[32m+[m[32mimport { TradeDetailView } from '@/app/dashboard/components/tables/trade-detail-view'[m
[32m+[m[32mimport { Trade } from '@prisma/client'[m
 [m
 const ITEMS_PER_PAGE = 9 // Show 9 cards per page (3x3 grid on desktop)[m
 [m
 export function JournalClient() {[m
   const router = useRouter()[m
[31m-  const { formattedTrades, refreshTrades } = useData() // Use filtered data from context[m
[32m+[m[32m  const { formattedTrades, refreshTrades, updateTrades } = useData() // Use filtered data from context[m
   const [searchTerm, setSearchTerm] = useState('')[m
   const [filterBy, setFilterBy] = useState<'all' | 'wins' | 'losses' | 'buys' | 'sells'>('all')[m
   const [isRefreshing, setIsRefreshing] = useState(false)[m
   const [currentPage, setCurrentPage] = useState(1)[m
[32m+[m[32m  const [selectedTrade, setSelectedTrade] = useState<Trade | null>(null)[m
[32m+[m[32m  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)[m
[32m+[m[32m  const [isViewDialogOpen, setIsViewDialogOpen] = useState(false)[m
 [m
   const filteredTrades = useMemo(() => {[m
     return formattedTrades.filter(trade => {[m
[36m@@ -69,6 +76,42 @@[m [mexport function JournalClient() {[m
     }[m
   }[m
 [m
[32m+[m[32m  const handleEditTrade = (trade: Trade) => {[m
[32m+[m[32m    setSelectedTrade(trade)[m
[32m+[m[32m    setIsEditDialogOpen(true)[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  const handleViewTrade = (trade: Trade) => {[m
[32m+[m[32m    setSelectedTrade(trade)[m
[32m+[m[32m    setIsViewDialogOpen(true)[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  const handleDeleteTrade = async (trade: Trade) => {[m
[32m+[m[32m    if (confirm(`Are you sure you want to delete this trade? This action cannot be undone.`)) {[m
[32m+[m[32m      try {[m
[32m+[m[32m        // Here you would implement the delete functionality[m
[32m+[m[32m        toast.success('Trade deleted successfully')[m
[32m+[m[32m        await refreshTrades()[m
[32m+[m[32m      } catch (error) {[m
[32m+[m[32m        toast.error('Failed to delete trade')[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  const handleSaveTrade = async (updatedTrade: Partial<Trade>) => {[m
[32m+[m[32m    if (!selectedTrade) return[m
[32m+[m[41m    [m
[32m+[m[32m    try {[m
[32m+[m[32m      await updateTrades([selectedTrade.id], updatedTrade)[m
[32m+[m[32m      toast.success('Trade updated successfully')[m
[32m+[m[32m      setIsEditDialogOpen(false)[m
[32m+[m[32m      setSelectedTrade(null)[m
[32m+[m[32m      await refreshTrades()[m
[32m+[m[32m    } catch (error) {[m
[32m+[m[32m      toast.error('Failed to update trade')[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
   return ([m
     <div className="container mx-auto py-6 px-4 space-y-6">[m
       <div className="flex items-center justify-between">[m
[36m@@ -145,7 +188,13 @@[m [mexport function JournalClient() {[m
           {/* Trade cards grid - 3 columns max for better card preview */}[m
           <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">[m
             {paginatedTrades.map((trade) => ([m
[31m-              <TradeCard key={trade.id} trade={trade} />[m
[32m+[m[32m              <TradeCard[m[41m [m
[32m+[m[32m                key={trade.id}[m[41m [m
[32m+[m[32m                trade={trade}[m
[32m+[m[32m                onEdit={() => handleEditTrade(trade)}[m
[32m+[m[32m                onView={() => handleViewTrade(trade)}[m
[32m+[m[32m                onDelete={() => handleDeleteTrade(trade)}[m
[32m+[m[32m              />[m
             ))}[m
           </div>[m
 [m
[36m@@ -204,6 +253,27 @@[m [mexport function JournalClient() {[m
           )}[m
         </>[m
       )}[m
[32m+[m
[32m+[m[32m      {/* Edit Trade Dialog */}[m
[32m+[m[32m      <EnhancedEditTrade[m
[32m+[m[32m        isOpen={isEditDialogOpen}[m
[32m+[m[32m        onClose={() => {[m
[32m+[m[32m          setIsEditDialogOpen(false)[m
[32m+[m[32m          setSelectedTrade(null)[m
[32m+[m[32m        }}[m
[32m+[m[32m        trade={selectedTrade}[m
[32m+[m[32m        onSave={handleSaveTrade}[m
[32m+[m[32m      />[m
[32m+[m
[32m+[m[32m      {/* View Trade Dialog */}[m
[32m+[m[32m      <TradeDetailView[m
[32m+[m[32m        isOpen={isViewDialogOpen}[m
[32m+[m[32m        onClose={() => {[m
[32m+[m[32m          setIsViewDialogOpen(false)[m
[32m+[m[32m          setSelectedTrade(null)[m
[32m+[m[32m        }}[m
[32m+[m[32m        trade={selectedTrade}[m
[32m+[m[32m      />[m
     </div>[m
   )[m
 }[m
[1mdiff --git a/deltalytix@0.1.0 b/deltalytix@0.1.0[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/rimraf b/rimraf[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
