-- Fix Trade table schema to match Prisma schema
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "entryId" TEXT DEFAULT '';
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "closeId" TEXT DEFAULT '';
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "side" TEXT DEFAULT '';
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "commission" DOUBLE PRECISION DEFAULT 0;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "comment" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "videoUrl" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "tags" TEXT[] DEFAULT '{}';
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "imageBase64" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "imageBase64Second" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "imageBase64Third" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "imageBase64Fourth" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "groupId" TEXT DEFAULT '';
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "phaseId" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "accountId" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "symbol" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "strategy" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "fees" DOUBLE PRECISION DEFAULT 0;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "realizedPnl" DOUBLE PRECISION;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "entryTime" TIMESTAMP;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "exitTime" TIMESTAMP;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "equityAtOpen" DOUBLE PRECISION;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "equityAtClose" DOUBLE PRECISION;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "rawBrokerId" TEXT;
ALTER TABLE "public"."Trade" ADD COLUMN IF NOT EXISTS "closeReason" TEXT;
